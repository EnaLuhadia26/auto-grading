<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Auto Grader</title>
<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%);
    margin: 0;
    padding: 0;
}
.container {
    max-width: 650px;
    margin: 50px auto;
    background: #fff;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}
h2 {
    text-align: center;
    color: #333;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, Arial, sans-serif;
    font-size: 2.2em;
    margin-bottom: 20px;

}
label {
    font-weight: bold;
    color: #555;
}
input, textarea {
    width: 100%;
    padding: 12px;
    margin: 10px 0 20px 0;
    border-radius: 10px;
    border: 2px solid #007bff;
    font-size: 1em;
    box-sizing: border-box;
}
textarea { resize: vertical; }
button {
    width: 100%;
    padding: 15px;
    background: #ff6a00;
    border: none;
    border-radius: 10px;
    font-size: 1.1em;
    color: #fff;
    cursor: pointer;
    transition: 0.3s;
}
button:hover {
    background: #ff8c42;
}
.result {
    margin-top: 20px;
    padding: 15px;
    border-radius: 10px;
    background: #f0f8ff;
    color: #333;
    font-weight: bold;
    font-size: 1em;
}
.error { color: red; font-weight: bold; }
.spinner {
    border: 4px solid #f3f3f3;
    border-top: 4px solid #007bff;
    border-radius: 50%;
    width: 25px;
    height: 25px;
    animation: spin 1s linear infinite;
    display: inline-block;
    vertical-align: middle;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
</style>
</head>
<body>
<div class="container">
    <h2>AI Auto Grader</h2>
    <label for="question">Question:</label>
    <input type="text" id="question" placeholder="Enter question here">

    <label for="answer">Student Answer:</label>
    <textarea id="answer" rows="5" placeholder="Enter student's answer here"></textarea>

    <button id="gradeBtn">Grade Answer</button>

    <div class="result" id="result"></div>
</div>

<script>
document.getElementById('gradeBtn').addEventListener('click', async () => {
    const question = document.getElementById('question').value.trim();
    const answer = document.getElementById('answer').value.trim();
    const resultDiv = document.getElementById('result');

    if (!question || !answer) {
        resultDiv.innerHTML = '<span class="error">Please enter both question and answer.</span>';
        return;
    }

    resultDiv.innerHTML = '<span class="spinner"></span> Grading... Please wait.';

    try {
        const response = await fetch('/grade', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ question, answer })
        });

        if (!response.ok) throw new Error(`Server error: ${response.status}`);

        const data = await response.json();

        resultDiv.innerHTML = `
            <strong>Score:</strong> ${data.score}/10<br>
            <strong>Feedback:</strong> ${data.feedback}
        `;
    } catch (err) {
        resultDiv.innerHTML = `<span class="error">Error: Could not grade answer. ${err.message}</span>`;
    }
});
</script>
</body>
</html>


